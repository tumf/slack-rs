# 設計: tokens.json の決定的シリアライズ

## 設計方針
- 保存前にキーをソートした構造へ変換してから JSON 化する
- 読み込み互換性を保つため、ファイルフォーマット自体は変更しない

## 動作要件
- 異なる挿入順で同一キー集合を保存しても同じ順序で出力される
- 内容が不変なら連続保存時に実質差分が発生しない

## テスト方針（mock-first）
- 一時ファイル上で、異なる順序で `set` 後のファイル内容を比較する
- 連続保存時にファイル内容が変化しないことを検証する

## トレードオフ
- 保存時にソートコストが発生する
- ただし token 件数は通常小さく、実用上の影響は軽微
