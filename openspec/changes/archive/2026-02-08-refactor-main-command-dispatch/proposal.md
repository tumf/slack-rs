# 変更提案: main コマンドディスパッチの段階的リファクタリング

## 背景
- 現在の `src/main.rs` はトップレベルのコマンド分岐とエラー終了処理が集中しており、変更時の影響範囲が大きい。
- 既存分析では、長大関数・重複分岐・深いネストが高インパクトの保守性リスクとして確認された。

## 目的
- 既存の CLI 挙動（引数解釈、出力、終了コード）を維持したまま、トップレベルのディスパッチ構造を小さな責務単位へ分解する。
- 以降の `run_api_call` / `run_auth_login` の安全な分割を進めやすい土台を作る。

## 変更範囲
- `main` のコマンド分岐を段階的に抽出し、分岐ごとのハンドラへ委譲する方針を定義する。
- 重複している失敗ハンドリング（標準エラー出力 + 終了コード）を共通化する方針を定義する。
- 仕様差分としては、挙動維持を明示要件化する。

## 期待効果
- コマンド追加・変更時の修正箇所を局所化し、回帰リスクを低減する。
- テスト観点（コマンド別の動作保証）を明確化し、段階的リファクタリングを可能にする。

## 非目的
- 新機能追加や CLI 仕様変更は行わない。
- OAuth / API 通信ロジックの挙動変更は行わない。
