# 提案: 非対話モードでエージェント実行を詰まらせない

## 概要
`slack-rs` に明示的な `--non-interactive` モードを導入し、対話入力が必要な操作は「即時エラー + 次の手順提示」に切り替える。TTY が無い実行環境では自動的に非対話扱いとし、CI/ジョブランナー/エージェント実行でハングしない CLI 挙動を確立する。

## 背景
現在の `slack-rs` には破壊操作の確認プロンプトや OAuth 設定の入力プロンプトがあり、ヘッドレス環境で実行すると入力待ちで停止しやすい。Agentic CLI Design の観点では「非対話デフォルト」「詰まらない実行」が重要であり、この挙動は改善余地が大きい。

## 目的
- `--non-interactive` 時に一切プロンプトを出さず、即時エラーで復旧可能な情報を返す
- TTY がない環境では暗黙に non-interactive 扱いにする
- 破壊操作・認証設定不足・確認必須操作の失敗を一貫したエラーパスに整理する

## 非目的
- 出力フォーマットの統一や JSON エンベロープの導入
- OAuth の方式変更や Device Authorization Grant の追加
- 既存の API コマンドの仕様変更

## 変更範囲
- 破壊操作の確認プロンプト
- `auth login` など対話入力が必要な箇所
- CLI 全体での `--non-interactive` 取り扱い

## リスク
- これまで対話で補完できていた入力がエラーになり、初回利用者の導線が変わる
- 非対話判定の自動化が、TTY あり環境での誤判定につながる可能性

## 補足
出力の JSON 仕様や `--output` の拡張は既存の別提案で扱う前提とし、本提案では「非対話・停止回避」にスコープを限定する。
