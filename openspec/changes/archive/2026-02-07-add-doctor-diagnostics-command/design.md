# 設計: doctor 診断コマンド

## 設計方針
- 既存の設定解決ロジックと token store 抽象を再利用する
- 秘密情報を出力しない安全デフォルトにする

## 出力項目
- `configPath`: 解決済み `profiles.json` パス
- `tokenStore`: backend 種別と解決済み保存先
- `tokens`: bot/user の存在フラグ
- `scopeHints`: 既知エラーや不足権限のヒント

## テスト方針（mock-first）
- 一時ディレクトリとダミートークンで診断出力を検証する
- `--json` 出力のスキーマ整合をテストする
- 実 Slack 接続なしで完結する

## トレードオフ
- コマンド面積が増える
- ただし障害対応の生産性向上が大きい
