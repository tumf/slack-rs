# 提案: 診断用 doctor コマンドを追加する

## 概要
Issue #25 として、認証・環境解決の切り分けを迅速化する `doctor` コマンドを追加する。解決済み profile path、token store path、backend、token 可用性、scope ヒントを一括表示する。

## 背景
- 認証トラブル時に複数コマンドを横断して状態確認する必要がある
- パス解決や backend 切り替えの見落としが調査コストを増やす

## 目的
- 1 コマンドで診断に必要な最小情報を収集できるようにする
- サポート時の再現情報を統一フォーマットで取得できるようにする

## 非目的
- 外部ネットワーク疎通診断
- トークン値そのものの表示

## 提案内容
- `doctor` コマンドを追加し、以下を出力する
  - 解決済み `profiles.json` パス
  - 解決済み token store パスと backend 種別
  - bot/user token の有無（値は非表示）
  - 権限不足を疑う scope ヒント
- `--json` で機械可読出力を提供する

## 期待効果
- 認証・環境問題の一次切り分け時間を短縮
- 自動収集・サポートテンプレートとの連携が容易になる
