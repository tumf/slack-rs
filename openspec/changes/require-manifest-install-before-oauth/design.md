# デザイン: マニフェスト事前インストールフロー

## フロー概要
1. `auth login` で OAuth 設定を解決する（client_id、scopes、redirect_uri）。
2. 認証開始前に Slack App Manifest を生成し、一時ファイルとして保存する。
3. 保存先を表示し、Slack App 管理ページをブラウザで自動的に開く。
4. ユーザーにマニフェストのインストールを促し、完了確認の入力を待つ。
5. 確認後に OAuth 認証フローを開始する。

## 画面/出力の想定
- マニフェスト保存先（一時ファイル）パスを明示する。
- ブラウザ起動失敗時は URL を出力し、手動で開けるようにする。
- ユーザー確認は Enter 入力で進行する単純な待機とする。

## エラーハンドリング
- マニフェスト生成または一時ファイルへの保存に失敗した場合は、その時点で処理を中断し OAuth フローを開始しない。
- Enter 入力待ちの読み取りに失敗した場合は、その時点で処理を中断し OAuth フローを開始しない。

## 後片付け
- OAuth フロー開始後（または終了後）に、一時ファイルの削除を試行する。削除に失敗してもフローの成否は妨げない。

## 対象実装
- 本デザインは CLI の `auth login` のメイン実行経路に適用する（legacy 互換の補助経路ではなく、実際にユーザーが使う経路を優先）。

## 互換性
- `auth login` の既存引数（`--cloudflared`/`--ngrok`）は変更しない。
- OAuth 認証 URL の生成やトークン交換仕様は変更しない。
