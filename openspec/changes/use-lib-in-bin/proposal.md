# 提案: バイナリからライブラリを利用してテスト重複を解消

## 背景
`git commit` 時の pre-commit チェックで `cargo test` が同じテスト群を 2 回実行しているように見える事象がありました。調査の結果、`src/main.rs` が `mod api;` などのモジュール宣言を持ち、ライブラリと同じコードをバイナリ側でもコンパイルしているため、`cargo test` が lib と bin の両ターゲットで同一テストを実行していました。

## 問題
- `cargo test` の出力に同じテスト群が 2 回現れ、開発者の混乱と実行時間の増加につながる
- バイナリが独自にモジュールを持つため、ライブラリとの整合が崩れやすい

## 目的
- バイナリはライブラリ公開 API を利用する構成に統一し、テストの重複実行を解消する
- CLI の挙動や公開インターフェースは維持する

## 非目的
- CLI の機能追加や出力仕様の変更
- 既存テスト内容の変更（数・内容）
- 依存関係やビルドプロファイルの変更

## 変更概要
- `src/main.rs` から `mod api;` などのモジュール宣言を削除し、`slack_rs` ライブラリを利用する
- `use` を `slack_rs::...` へ置き換え、バイナリ側に重複モジュールを持たせない

## 影響範囲
- 影響ファイル: `src/main.rs`（参照の整理）
- 外部 API / CLI 仕様への影響なし
- ビルド/テスト出力の重複が解消される

## 成果物
- 仕様差分（developer-workflow）
- 実装タスク一覧（tasks.md）
- 実装方針の簡易設計（design.md）
